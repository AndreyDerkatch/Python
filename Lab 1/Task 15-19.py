#Вариант 5, Задачи 17, 29, 41, 53
def SwapMinMax(array):
    # Функция для замены местами минимального и максимального элементов массива
    if not array:
        return array

    minIndex = array.index(min(array))
    maxIndex = array.index(max(array))

    # Меняем местами минимальный и максимальный элементы массива
    array[minIndex], array[maxIndex] = array[maxIndex], array[minIndex]

    return array

def CheckMaxInRange(array, a, b):
    # Функция для проверки наличия максимального элемента массива в заданном интервале
    if not array:
        return False

    maxElement = max(array)
    return a <= maxElement <= b

def AverageAbs(array):
    # Функция для вычисления среднего арифметического модулей элементов массива
    if not array:
        return None

    return sum(abs(num) for num in array) / len(array)

def NewList(array):
    # Функция для построения нового списка с элементами, большими среднего и меньшими максимального
    if not array:
        return []

    avg = sum(array) / len(array)
    maxVal = max(array)
    return [num for num in array if avg < num < maxVal]

# Основная программа
while True:
    print("\nВыберите действие:")
    print("1) Поменять местами минимальный и максимальный элементы массива.")
    print("2) Проверить наличие максимального элемента массива в интервале a..b.")
    print("3) Найти среднее арифметическое модулей элементов массива.")
    print("4) Построить новый список с элементами, большими среднего и меньшими максимального.")
    print("5) Выйти из программы.")

    choice = input("Ваш выбор (1-5): ")

    if choice == '1':
        # Пользователь выбрал замену минимального и максимального элементов массива
        array = list(map(int, input("Введите целочисленный массив через пробел: ").split()))
        print("Массив после замены минимального и максимального элементов:", SwapMinMax(array))
    elif choice == '2':
        # Пользователь выбрал проверку наличия максимального элемента в интервале
        array = list(map(int, input("Введите целочисленный массив через пробел: ").split()))
        a, b = map(int, input("Введите интервал a..b через пробел: ").split())
        if CheckMaxInRange(array, a, b):
            print("Максимальный элемент массива находится в интервале", a, "..", b)
        else:
            print("Максимальный элемент массива НЕ находится в интервале", a, "..", b)
    elif choice == '3':
        # Пользователь выбрал вычисление среднего арифметического модулей элементов массива
        array = list(map(int, input("Введите целочисленный массив через пробел: ").split()))
        print("Среднее арифметическое модулей элементов массива:", AverageAbs(array))
    elif choice == '4':
        # Пользователь выбрал построение нового списка с элементами, большими среднего и меньшими максимального
        array = list(map(int, input("Введите целочисленный массив через пробел: ").split()))
        print("Новый список с элементами, большими среднего и меньшими максимального:", NewList(array))
    elif choice == '5':
        # Пользователь выбрал выход из программы
        print("Выход из программы.")
        break
    else:
        # Пользователь ввел некорректный выбор
        print("Неверный выбор. Попробуйте еще раз.")
